<mat-card>

    <h1 *ngIf="product.productType === 'good' && product.purchaseType === 'buy'">Buy Good</h1>
    <h1 *ngIf="product.productType === 'good' && product.purchaseType === 'rent'">Rent Good</h1>
    <h1 *ngIf="product.productType === 'service'">Buy Service</h1>

        <h3>{{ this.product.title }}</h3>
        <p>{{ this.product.description }}</p>
        <p>Price: {{ this.product.price }}</p>
        <p>PurchaseType: {{ this.product.purchaseType }}</p>

        <p *ngIf="product.productType === 'service'">
            Once the transaction is complete, you may exchange 
            information with the seller, about when and where exactly the service
            shell be provided. 
        </p>

        <p *ngIf="product.delivery === false">
            Delivery Options: for this Product, delivery is not possible. 
            When the transaction is complete, the seller will contact you to 
            define where to exchange the product.
        </p>

        <mat-card class="rent-card"  *ngIf="product.purchaseType === 'rent'">
            <p>For how many days do you want to rent the product</p>
            <form [formGroup]="rentalDaysForm">   
                <mat-form-field>
                    <mat-label>Rental Days</mat-label>
                    <input matInput formControlName="rentalDays" placeholder="" />
                </mat-form-field>
                <br>         
                <!-- <button color="primary" mat-flat-button [disabled]="!rentalDaysForm.valid">calculate Price</button> -->
            </form>
        </mat-card>


        <mat-card class="delivery-card"  *ngIf="product.delivery === true">
            <p>Delivery Address</p>
            <form [formGroup]="deliveryForm" >
          
                <mat-form-field>
                    <mat-label>First name</mat-label>
                    <input matInput formControlName="firstName" placeholder="First name" />
                </mat-form-field>
                <br>
                <mat-form-field>
                    <mat-label>Last name</mat-label>
                    <input matInput formControlName="lastName" placeholder="Last name" />
                </mat-form-field>
                <br>
                <mat-form-field>
                    <mat-label>Street + Nr.</mat-label>
                    <input matInput formControlName="streetNr" placeholder="Street Nr" />
                </mat-form-field>
                <br>
                <mat-form-field>
                    <mat-label>ZIP Code</mat-label>
                    <input matInput formControlName="zip" placeholder="ZIP Code" />
                </mat-form-field>
                <br>
                <mat-form-field>
                    <mat-label>City</mat-label>
                    <input matInput formControlName="city" placeholder="City" />
                </mat-form-field>
                <br>
                
            </form>
        </mat-card>


<!--             <p>
                Form Value: {{ deliveryForm.value | json }}
            </p> -->
  
        <button *ngIf="!product.delivery && product.purchaseType === 'buy'"
            color="primary" mat-flat-button (click)="buy(product)">Create Test Transaction
        </button>

        <button *ngIf="product.delivery && product.purchaseType === 'buy'"
            [disabled]="!deliveryForm.valid"
            color="primary" mat-flat-button (click)="buyWithDelivery(product)">Create Test Transaction
        </button>

        <button *ngIf="!product.delivery && product.purchaseType === 'rent'"
            [disabled]="!rentalDaysForm.valid"
            color="primary" mat-flat-button (click)="rent(product)">Create Test Transaction
        </button>

        <button *ngIf="product.delivery && product.purchaseType === 'rent'"
            [disabled]="!deliveryForm.valid || !rentalDaysForm.valid"
            color="primary" mat-flat-button (click)="rentWithDelivery(product)">Create Test Transaction
        </button>

        <button color="primary" mat-flat-button  routerLink="/products/pay">
            PAY
        </button>
        

</mat-card>

